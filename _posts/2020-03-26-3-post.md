---
layout: post
title: hacking scenario
image: /img/avatar-icon.png
---
/모의 해킹 시나리오/

교육기관 측에 동의를 받고 해당 웹사이트의 취약점을 침투해보고 대응 방안을 전달하기로 하였습니다.
모의 해킹 시나리오와 모의 해킹 완료보고서는 서류로 작성하였습니다.

1-환경 조사 
a. 정보수집
등록/관리 기관, 도메인 이름, 목표 사이트 네트워크 주소와 IP 주소
관리자/기술 관련 정보, 등록자/관리자/기술 관리자
레코드 생성 시기와 업데이트 시기
주 DNS 서버와 보조 DNS 서버
IP 주소의 할당 지역 위치

b. 구글링을 통한  간접적  탐색(보안 수준, 웹서버 탐색 등)
간접적인 정보를 활용하여 경로 정보를 유추

c. nmap을 이용한 포트 스캐닝
TCP/UDP port open scan

2-환경 분석
a. 환경 분석
OS:Linux 
언어:PHP 
데이터베이스:MYSQL 
허용 포트: 25/ smtp, 80/ http, 443/ ssl-http, 873/ rsync, 1114/ ssh, 3306/ mysql

b. 환경 분석 설명
간접/직접 탐색을 통해 수집된 정보입니다.
해당 서비스의 각 서비스에 접근하여 각 페이지가 php로 구성되어 있는 것을 확인하였고 이를 통해 해당 서비스는 php로 구성되어 있음을 확인했습니다.
nmap을 이용하여 대상 시스템에 대한 스캔을 수행한 결과, 서버는 Apache/2.4.18 기반에 데이터베이스는  MYSQL을 사용하고 있었고 현재 6개의 포트가 열려있음을 확인했습니다.

c. 환경 분석 도구
nmap, metaspolit

3-취약점 침투
a. 파일 업로드 취약점
프로필 사진 업로드 서비스 악성 스크립트 파일 업로드 가능
c99.php 파일을 업로드하여 분석이 가능했음

b. SQL 인젝션 https://ip/index.php ~~

c. 콘텐츠 필터링
jpg, png 파일 등 그림파일 외 php파일 또한 업로드 가능
(우회 불필요)

d.다양한 웹 취약점
 LFI 취약점 이용 업로드 웹쉘 파일, 파라미터 경로 설정 브라우저 접속

 /모의 해킹 완료보고서/

 모의 해킹에서 발견된 취약점과 그에 대한 대응 방안을 제시하였습니다.






